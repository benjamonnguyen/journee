<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <title>journee</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link rel="stylesheet" href="/styles/index.css">
        <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css"> -->
        <script src="https://unpkg.com/htmx.org@2.x.x"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    </head>

    <body x-data @keyup.s="
    if ($event.ctrlKey) {
        $event.preventDefault();
        document.querySelector('button[type=\'submit\']')?.click();
    }" @keyup.e="
    if ($event.ctrlKey) {
        $event.preventDefault();
        document.querySelector('#journal-content')?.focus();
    }">
        <navbar>
            <h1 class="logo">journee</h1>
            <div>
                <a href="/logout">Log out</a>
            </div>
        </navbar>
        <main hx-trigger="load" hx-get="/app" hx-swap="innerHTML"></main>
        <footer></footer>
    </body>

    <script>
        document.body.addEventListener('htmx:afterSwap', function (event) {
            // If the swapped content contains Alpine directives, initialize them
            if (event.detail.target.querySelector('[x-data]')) {
                Alpine.initTree(event.detail.target);
            }
        });
    </script>

</html>